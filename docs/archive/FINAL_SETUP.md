# üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ - ObschiySbor

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ Storage bucket `event-images` —Å–æ–∑–¥–∞–Ω –∏ –ø—É–±–ª–∏—á–Ω—ã–π
2. ‚úÖ Storage –ø–æ–ª–∏—Ç–∏–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
3. ‚úÖ –ü–æ–ª—è `end_date` –∏ `has_end_date` –¥–æ–±–∞–≤–ª–µ–Ω—ã

## üö® –û—Å—Ç–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω—É –º–∏–≥—Ä–∞—Ü–∏—é:

### –ú–∏–≥—Ä–∞—Ü–∏—è: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –∫–∞—Ä—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

**üîó SQL Editor:** https://supabase.com/dashboard/project/wrfcpsljchyetbmupqgc/sql/new

```sql
-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –∫–∞—Ä—Ç –≤ —Ç–∞–±–ª–∏—Ü—É events

ALTER TABLE events
ADD COLUMN IF NOT EXISTS latitude DECIMAL(10, 8),
ADD COLUMN IF NOT EXISTS longitude DECIMAL(11, 8);

CREATE INDEX IF NOT EXISTS idx_events_location ON events(latitude, longitude);

COMMENT ON COLUMN events.latitude IS '–®–∏—Ä–æ—Ç–∞ –º–µ—Å—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è';
COMMENT ON COLUMN events.longitude IS '–î–æ–ª–≥–æ—Ç–∞ –º–µ—Å—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è';

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ (–¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è 2 —Å—Ç—Ä–æ–∫–∏)
SELECT column_name, data_type, is_nullable
FROM information_schema.columns
WHERE table_name = 'events'
  AND column_name IN ('latitude', 'longitude');
```

---

## üéâ –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏

–í—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å! –ú–æ–∂–µ—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è —Å —Ñ–æ—Ç–æ –∏ –∫–∞—Ä—Ç–æ–π
http://localhost:5173/create-event

- ‚úÖ –í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–∞—Ä—Ç–µ (MapPicker)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ (–¥–æ 5MB: JPG, PNG, WEBP)
- ‚úÖ –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∫–∞—Ä—Ç–µ
http://localhost:5173/events

- ‚úÖ –ù–∞–∂–º–∏—Ç–µ "üó∫Ô∏è –ö–∞—Ä—Ç–∞"
- ‚úÖ –£–≤–∏–¥–∏—Ç–µ –º–∞—Ä–∫–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä ‚Üí popup —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

### 3. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
http://localhost:5173/events

**–ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã:**
- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí –ø–æ—è–≤–∏—Ç—Å—è "–§–∏–ª—å—Ç—Ä –ø–æ –∏–≥—Ä–∞–º"
- –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ö–∞—Ä–∫–∞—Å—Å–æ–Ω")

**–í–µ–ª–æ–ø—Ä–æ–≥—É–ª–∫–∏:**
- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí –ø–æ—è–≤–∏—Ç—Å—è "–°–ª–æ–∂–Ω–æ—Å—Ç—å"
- –í—ã–±–µ—Ä–∏—Ç–µ: –ª–µ–≥–∫–∞—è / —Å—Ä–µ–¥–Ω—è—è / —Å–ª–æ–∂–Ω–∞—è

**–ü–æ—Ö–æ–¥—ã:**
- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí –ø–æ—è–≤–∏—Ç—Å—è "–°–ª–æ–∂–Ω–æ—Å—Ç—å" + "–î–∏—Å—Ç–∞–Ω—Ü–∏—è (–∫–º)"
- –£–∫–∞–∂–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω: –û—Ç 5 –î–æ 15 –∫–º

### 4. –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º
- **–ù–∞—á–∞–ª–æ —Å–æ–±—ã—Ç–∏—è:** –û—Ç [–¥–∞—Ç–∞] ‚Äî –î–æ [–¥–∞—Ç–∞]
- **–û–∫–æ–Ω—á–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:** –û—Ç [–¥–∞—Ç–∞] ‚Äî –î–æ [–¥–∞—Ç–∞]

### 5. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤
http://localhost:5173/events/[id]

- ‚úÖ –¢–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã
- ‚úÖ –û—Ç–∑—ã–≤—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π

---

## üìä –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –û—Å–Ω–æ–≤–Ω–æ–µ
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (email + OAuth)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ —Å–æ–±—ã—Ç–∏—è–º

### –ö–∞—Ä—Ç—ã (NEW!)
- ‚úÖ –í—ã–±–æ—Ä –ª–æ–∫–∞—Ü–∏–∏ –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–µ (OpenStreetMap)
- ‚úÖ –ü–æ–∏—Å–∫ –º–µ—Å—Ç–∞ –ø–æ –∞–¥—Ä–µ—Å—É
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∫–∞—Ä—Ç–µ
- ‚úÖ Popup —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–æ–±—ã—Ç–∏–∏

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (NEW!)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —Å–æ–±—ã—Ç–∏–π (Supabase Storage)
- ‚úÖ Drag & drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞

### –î–∞—Ç—ã (NEW!)
- ‚úÖ –î–∞—Ç–∞/–≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
- ‚úÖ –î–∞—Ç–∞/–≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º –¥–∞—Ç

### –§–∏–ª—å—Ç—Ä—ã (NEW!)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–ø–∏—Å–æ–∫/–∫–∞—Ä—Ç–∞
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
  - –ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã: –ø–æ –∏–≥—Ä–∞–º
  - –í–µ–ª–æ–ø—Ä–æ–≥—É–ª–∫–∏: –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  - –ü–æ—Ö–æ–¥—ã: –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏

### –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
- ‚úÖ Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å (.ics, Google Calendar)
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–π

–í—Å–µ SQL —Å–∫—Ä–∏–ø—Ç—ã –≤ –ø–∞–ø–∫–µ `database/`:

1. **add-coordinates.sql** ‚Üê –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ!
2. add-end-date.sql (‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
3. storage-policies.sql (‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
4. RUN_ALL_MIGRATIONS.md - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```sql
-- –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
SELECT column_name, data_type, is_nullable, column_default
FROM information_schema.columns
WHERE table_name = 'events'
  AND column_name IN ('latitude', 'longitude', 'end_date', 'has_end_date', 'image_url')
ORDER BY column_name;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 5 –ø–æ–ª–µ–π
- end_date ‚úÖ
- has_end_date ‚úÖ
- image_url ‚úÖ
- latitude ‚úÖ
- longitude ‚úÖ

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é?

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–æ–µ–∫—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤**!

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–≤—ã—à–µ)
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å reCAPTCHA
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–∏—Ç—å email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] SQL –º–∏–≥—Ä–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è —Å —Ñ–æ—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–∞—Ä—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–ø–∏—Å–æ–∫/–∫–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û—Ç–∑—ã–≤—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç

---

**–í–µ—Ä—Å–∏—è:** 1.0.0
**–î–∞—Ç–∞:** 01.10.2025
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ production –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
