# Event Lifecycle Status System

**–î–∞—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** 2025-10-14
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–æ–¥–µ

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–æ–±—ã—Ç–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `events`

1. **`moderation_status`** (TEXT)
   - –°—Ç–∞—Ç—É—Å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏—è
   - –ó–Ω–∞—á–µ–Ω–∏—è: `'active'`, `'cancelled'`, `'completed'`
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `'active'`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

2. **`lifecycle_status`** (ENUM `event_lifecycle_status`)
   - –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏—è
   - –ó–Ω–∞—á–µ–Ω–∏—è: `'upcoming'`, `'ongoing'`, `'completed'`, `'cancelled'`
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `'upcoming'`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç

3. **`cancellation_reason`** (TEXT)
   - –ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–º–µ–Ω—ã —Å–æ–±—ã—Ç–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º
   - NULL –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –Ω–µ –æ—Ç–º–µ–Ω–µ–Ω–æ
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–∏ `lifecycle_status = 'cancelled'`

### ENUM —Ç–∏–ø

```sql
CREATE TYPE event_lifecycle_status AS ENUM (
  'upcoming',   -- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ (–µ—â—ë –Ω–µ –Ω–∞—á–∞–ª–æ—Å—å)
  'ongoing',    -- –ò–¥—ë—Ç —Å–µ–π—á–∞—Å (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
  'completed',  -- –ó–∞–≤–µ—Ä—à–µ–Ω–æ (—É–∂–µ –ø—Ä–æ—à–ª–æ)
  'cancelled'   -- –û—Ç–º–µ–Ω–µ–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º
);
```

### SQL —Ñ—É–Ω–∫—Ü–∏—è

```sql
CREATE OR REPLACE FUNCTION update_event_lifecycle_status()
RETURNS void AS $$
BEGIN
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ 'ongoing' –¥–ª—è —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∞–ª–∏—Å—å
    UPDATE events
    SET lifecycle_status = 'ongoing'
    WHERE lifecycle_status = 'upcoming'
      AND event_date <= NOW()
      AND (end_date IS NULL OR end_date >= NOW());

    -- –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ 'completed' –¥–ª—è —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å
    UPDATE events
    SET lifecycle_status = 'completed'
    WHERE lifecycle_status IN ('upcoming', 'ongoing')
      AND ((end_date IS NOT NULL AND end_date < NOW())
           OR (end_date IS NULL AND event_date < NOW() - INTERVAL '1 day'));
END;
$$ LANGUAGE plpgsql;
```

### –ò–Ω–¥–µ–∫—Å—ã

```sql
CREATE INDEX idx_events_lifecycle_status ON events(lifecycle_status);
```

## –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –§–∞–π–ª—ã

1. **`frontend/src/utils/eventStatus.js`**
   - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –∏—Ö –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
   - –§—É–Ω–∫—Ü–∏—è `getEventStatus(event)` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ `event.lifecycle_status` –∏ –¥–∞—Ç
   - –£—Ç–∏–ª–∏—Ç—ã: `canJoinEvent()`, `canCancelEvent()`, `formatStatus()`

2. **`frontend/src/components/EventStatusBadge.jsx`**
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ü–≤–µ—Ç–Ω–æ–≥–æ –±–µ–π–¥–∂–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º
   - –¶–≤–µ—Ç–∞: upcoming (—Å–∏–Ω–∏–π), ongoing (–∑–µ–ª—ë–Ω—ã–π), completed (—Å–µ—Ä—ã–π), cancelled (–∫—Ä–∞—Å–Ω—ã–π)
   - –≠–º–æ–¥–∑–∏: üìÖ üî¥ ‚úÖ ‚ùå

3. **`frontend/src/hooks/useEvents.js`**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `update_event_lifecycle_status()` –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π —Å–æ–±—ã—Ç–∏–π
   - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—É—Å–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ

4. **`frontend/src/pages/EventDetails.jsx`**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π —Å–æ–±—ã—Ç–∏—è
   - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Ç–º–µ–Ω—ã —Å–æ–±—ã—Ç–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–º–µ–Ω—ã

5. **`frontend/src/pages/Events.jsx`**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–µ–π–¥–∂–µ–π —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π

6. **`frontend/src/components/EventsMapView.jsx`**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ –±–∞–ª–ª—É–Ω–∞—Ö –Ω–∞ –∫–∞—Ä—Ç–µ

### –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–∫–ª–∏–µ–Ω—Ç ‚Üí SQL):**
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–ø–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π (`useEvents.js`)
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–±—ã—Ç–∏—è (`EventDetails.jsx`)
- –í—ã–∑—ã–≤–∞–µ—Ç SQL —Ñ—É–Ω–∫—Ü–∏—é `update_event_lifecycle_status()`

**–†—É—á–Ω–∞—è –æ—Ç–º–µ–Ω–∞ (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä):**
- –ö–Ω–æ–ø–∫–∞ "–û—Ç–º–µ–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ" –≤ `EventDetails.jsx`
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `lifecycle_status = 'cancelled'`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–∏—á–∏–Ω—É –≤ `cancellation_reason`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º

## –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –±–µ–π–¥–∂–µ–π

```javascript
EVENT_STATUS_COLORS = {
  'upcoming': '#3498db',   // –°–∏–Ω–∏–π
  'ongoing': '#2ecc71',    // –ó–µ–ª—ë–Ω—ã–π
  'completed': '#95a5a6',  // –°–µ—Ä—ã–π
  'cancelled': '#e74c3c',  // –ö—Ä–∞—Å–Ω—ã–π
}
```

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

```javascript
EVENT_STATUS_LABELS = {
  'upcoming': '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ',
  'ongoing': '–ò–¥—ë—Ç —Å–µ–π—á–∞—Å',
  'completed': '–ó–∞–≤–µ—Ä—à–µ–Ω–æ',
  'cancelled': '–û—Ç–º–µ–Ω–µ–Ω–æ',
}
```

### –≠–º–æ–¥–∑–∏

```javascript
EVENT_STATUS_EMOJI = {
  'upcoming': 'üìÖ',
  'ongoing': 'üî¥',
  'completed': '‚úÖ',
  'cancelled': '‚ùå',
}
```

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ü–≤–µ—Ç–Ω–æ–π –±–µ–π–¥–∂ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Å–æ–±—ã—Ç–∏—è
- –ù–∞ –∫–∞—Ä—Ç–µ —Å–æ–±—ã—Ç–∏–π —Ç–∞–∫–∂–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `lifecycle_status = 'upcoming'`
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `moderation_status = 'active'`

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —Å—Ç–∞—Ç—É—Å–æ–≤
- `upcoming` ‚Üí `ongoing`: –∫–æ–≥–¥–∞ –Ω–∞—Å—Ç—É–ø–∞–µ—Ç `event_date` –∏ —Å–æ–±—ã—Ç–∏–µ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å
- `upcoming/ongoing` ‚Üí `completed`: –∫–æ–≥–¥–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç `end_date` (–∏–ª–∏ event_date + 1 –¥–µ–Ω—å)

### 4. –û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –Ω–∞–∂–∏–º–∞–µ—Ç "–û—Ç–º–µ–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ"
- –í–≤–æ–¥–∏—Ç –ø—Ä–∏—á–∏–Ω—É –æ—Ç–º–µ–Ω—ã
- –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `cancelled`
- –í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ —Å–æ–±—ã—Ç–∏—é –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

### 5. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ
- –¢–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: `'event_cancelled'`
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–°–æ–±—ã—Ç–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ"
- –°–æ–æ–±—â–µ–Ω–∏–µ: "–°–æ–±—ã—Ç–∏–µ [–Ω–∞–∑–≤–∞–Ω–∏–µ] –±—ã–ª–æ –æ—Ç–º–µ–Ω–µ–Ω–æ. –ü—Ä–∏—á–∏–Ω–∞: [–ø—Ä–∏—á–∏–Ω–∞]"
- –°—Å—ã–ª–∫–∞ –≤–µ–¥—ë—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–±—ã—Ç–∏—è

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–∞–≤–∏–ª–∞

### –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ —Å–æ–±—ã—Ç–∏—é
- –ú–æ–∂–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫ —Å–æ–±—ã—Ç–∏—è–º —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `upcoming` –∏–ª–∏ `ongoing`
- –ù–µ–ª—å–∑—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ `cancelled` –∏–ª–∏ `completed`

### –û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è
- –û—Ç–º–µ–Ω–∏—Ç—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä (creator)
- –û—Ç–º–µ–Ω–∏—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `upcoming` –∏–ª–∏ `ongoing`
- –ù–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å —É–∂–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –°—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–±—ã—Ç–∏–π
- SQL —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Supabase)
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º —Å–æ–±—ã—Ç–∏—è–º —Å—Ä–∞–∑—É

## –ú–∏–≥—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏

1. **`database/migration_event_lifecycle_status.sql`** ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∞
   - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ `status` ‚Üí `moderation_status`
   - –°–æ–∑–¥–∞–Ω–∏–µ ENUM —Ç–∏–ø–∞ `event_lifecycle_status`
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ `lifecycle_status`
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ `cancellation_reason`
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `update_event_lifecycle_status()`
   - –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ `idx_events_lifecycle_status`

### –í–∞–∂–Ω–æ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
- SQL —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ Supabase Dashboard ‚Üí SQL Editor
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –ø—Ä–æ–¥–µ
- Frontend –∫–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –ë–î

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ç—É—Å—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ SQL —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞: `SELECT proname FROM pg_proc WHERE proname = 'update_event_lifecycle_status';`
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ–ª–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `SELECT column_name FROM information_schema.columns WHERE table_name = 'events' AND column_name = 'lifecycle_status';`
3. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è
**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `moderation_status` –≤–º–µ—Å—Ç–æ `status` –≤ `CreateEvent.jsx`
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `lifecycle_status` –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –ë–î

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ç—É—Å—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `useEvents.js` –≤—ã–∑—ã–≤–∞–µ—Ç `update_event_lifecycle_status()`
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `EventDetails.jsx` –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "–°—Ç–∞—Ç—É—Å—ã —Å–æ–±—ã—Ç–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω—ã"

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å cron-–∑–∞–¥–∞—á—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (—á–µ—Ä–µ–∑ pg_cron –∏–ª–∏ Supabase Edge Functions)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Å–æ–±—ã—Ç–∏–π –ø–æ lifecycle_status
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –≤ –¥–∞—à–±–æ—Ä–¥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–º–µ–Ω—ë–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
- [ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ —Å–æ–±—ã—Ç–∏—è

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**SQL:**
- `database/migration_event_lifecycle_status.sql` - –º–∏–≥—Ä–∞—Ü–∏—è

**Frontend:**
- `frontend/src/utils/eventStatus.js` - —É—Ç–∏–ª–∏—Ç—ã
- `frontend/src/components/EventStatusBadge.jsx` - –±–µ–π–¥–∂ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `frontend/src/components/EventStatusBadge.css` - —Å—Ç–∏–ª–∏ –±–µ–π–¥–∂–∞
- `frontend/src/hooks/useEvents.js` - —Ö—É–∫ –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- `frontend/src/pages/Events.jsx` - —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π
- `frontend/src/pages/EventDetails.jsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–±—ã—Ç–∏—è
- `frontend/src/pages/EventDetails.css` - —Å—Ç–∏–ª–∏ –¥–ª—è –æ—Ç–º–µ–Ω—ã
- `frontend/src/components/EventsMapView.jsx` - –∫–∞—Ä—Ç–∞ —Å–æ–±—ã—Ç–∏–π
- `frontend/src/pages/CreateEvent.jsx` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è

## Changelog

**2025-10-14:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ lifecycle —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SQL —Ñ—É–Ω–∫—Ü–∏—é
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –±–µ–π–¥–∂–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Ç–º–µ–Ω—ã —Å–æ–±—ã—Ç–∏–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ –Ω–∞ –ø—Ä–æ–¥
